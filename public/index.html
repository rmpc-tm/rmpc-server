<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Map Pace Challenge â€” Leaderboard</title>
    <script>
        (function(){var s=localStorage.getItem("theme")||"dark";var r=s==="system"?(window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light"):s;document.documentElement.setAttribute("data-theme",r);document.addEventListener("DOMContentLoaded",function(){var el=document.querySelector('.theme-icon[data-theme="'+s+'"]');if(el)el.classList.add("active")})})();
    </script>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="page-grain"></div>

    <header>
        <div class="header-inner">
            <div class="header-top">
                <div class="brand">
                    <div class="brand-mark">
                        <svg class="brand-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 14 4-7"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/></svg>
                    </div>
                    <div class="brand-text">
                        <h1>Random Map Pace Challenge</h1>
                        <span class="brand-sub">Leaderboard</span>
                    </div>
                </div>
                <div class="header-actions">
                    <a class="plugin-link" href="https://openplanet.dev/plugin/randommappace" target="_blank" rel="noopener">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                        Get Plugin
                    </a>
                    <button class="theme-toggle" id="theme-toggle" title="Toggle theme">
                        <svg class="theme-icon" data-theme="light" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
                        <svg class="theme-icon" data-theme="system" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                        <svg class="theme-icon" data-theme="dark" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <details class="about-blurb">
            <summary>What is this?</summary>
            <p>Leaderboard for <b>Random Map Pace Challenge</b>, a Trackmania plugin where you play random maps for an hour and earn score based on map length rather than fixed medal counts. You can skip maps freely, the cost is calculated on your current progress on the map - from unfinished to gold medal. The skip cost is substracted from your remaining time.
            The plugin is based on RMC and requires <b>Random Map Picker</b> to be installed.</p>
            <p>For more details read the FAQ on <a href="https://openplanet.dev/plugin/randommappace" target="_blank" rel="noopener">Openplanet plugin page</a>.</p>
        </details>

        <div class="controls">
            <div class="control-group">
                <div class="toggle-group" id="game-mode-toggle">
                    <button class="toggle-btn active" data-value="author">Author</button>
                    <button class="toggle-btn" data-value="gold">Gold</button>
                </div>
            </div>

            <div class="control-group">
                <div class="toggle-group" id="period-toggle">
                    <button class="toggle-btn active" data-value="all">All Time</button>
                    <button class="toggle-btn" data-value="month">This Month</button>
                    <button class="toggle-btn archive-btn" data-value="archive" id="archive-btn">Archive</button>
                </div>
                <div class="archive-dropdown" id="archive-dropdown"></div>
            </div>
        </div>

        <div id="loading" class="loading" style="display: none;">
            <div class="loading-spinner"></div>
            <span>Loading scores...</span>
        </div>
        <div id="error" class="error" style="display: none;"></div>

        <div class="table-wrap">
            <table id="leaderboard">
                <thead>
                    <tr>
                        <th class="col-rank">#</th>
                        <th class="col-player">Player</th>
                        <th class="col-maps" title="Maps completed"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></th>
                        <th class="col-skipped" title="Maps skipped"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 4 15 12 5 20 5 4"/><line x1="19" y1="5" x2="19" y2="19"/></svg></th>
                        <th class="col-score">Score</th>
                        <th class="col-date">Date</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body">
                </tbody>
            </table>
        </div>

        <div id="empty-state" class="empty-state" style="display: none;">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="8" y1="15" x2="16" y2="15"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
            <p>No scores found for the selected filters.</p>
        </div>
    </main>

    <footer>
        <p>Send &hearts; to <a href="https://openplanet.dev" target="_blank" rel="noopener">Openplanet</a> &amp; <a href="https://trackmania.exchange" target="_blank" rel="noopener">TMX</a></p>
    </footer>

    <script src="js/app.js"></script>
</body>
</html>
